<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bulit_circle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///기본 변수 선언
isClick=0 //화면을 눌렀나 체크하는 변수
tx=x
ty=y //조이스틱 컨트롤러 ? 인가 여간 원안에 작은 원이 그려지는 위치

_distance = 0;
_direction = 0;
activate = 1;

add_x = 300;
add_y = 0;
add_mode = -1; // -1 is wait, 0 is go to right, 1 is go to left
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw 이벤트는 Step 이벤트를 대신할수 있음.
//draw_self() //자기자신을 일단 그린다
if(add_mode == 0) {
    add_x += (300 - add_x)/4;
}
    
if(add_mode == 1) {
    add_x += (0 - add_x)/4;
}

if(activate == 1)and(global.can_control == 1) {
    var check = 0;
    mx = 0;
    my = 0;
    for( fff=0; fff&lt;=4; fff+=1 )    //최대 4개의 멀티터치를 인식하기위해서 for문 사용
    {
    mx = 0;
    my = 0;
    
    if point_distance(x,y,device_mouse_x_to_gui(fff),device_mouse_y_to_gui(fff))&lt;400//터치좌표와의 거리가 240 이하이면
    {
    mx=device_mouse_x_to_gui(fff)
    my=device_mouse_y_to_gui(fff)
    }
        if point_distance(x,y,device_mouse_x_to_gui(fff),device_mouse_y_to_gui(fff))&lt;400
        {
        if device_mouse_check_button_pressed(fff,mb_left) //만약 화면은 눌렀으면,
        and collision_point(mx,my,object_index,1,0)//나를 눌렀으면,
        {
            isClick=1
        }
        if device_mouse_check_button_released(fff,mb_left) //화면에서 땠으면
        {
            isClick=0
            tx=x //작은 원 위치 초기화
            ty=y
        }
        }
    ////////////////////////////////조이스틱 그리는 부분
    if point_distance(x,y,device_mouse_x_to_gui(fff),device_mouse_y_to_gui(fff))&lt;400
    {
        if isClick=1 //나를 한번 터치하고 손을 안떘을경우
        {
            if collision_point(mx,my,object_index,1,0)
            {   //터치 위치가 조이스틱과 충돌하는 경우 (원 안에있는경우)
                tx=mx; ty=my
                //draw_disk_ext(x, y, 72, 80, 20, c_white, c_white, 0.4);
                draw_sprite(spr_bulit_circle, 0, x + add_x, y + add_y)
                draw_sprite(spr_small_circle, 0, tx + add_x, ty + add_y)
                /*draw_set_alpha(0.4)
                draw_set_color(c_white)
                draw_circle(tx,ty,20,0)//터치 x,y에 반지름 20으로 원을 그린다
                draw_set_alpha(0.6)
                draw_set_color(c_white)
                draw_circle(tx,ty,16,0)//터치 x,y에 반지름 20으로 원을 그린다*/
                check = 1;
                break; // for문을 4번 돌리기때문에 원이 4개 그려지는걸 방지하기위해 빠져나간다
            }
            else if not collision_point(mx,my,object_index,1,0)
            {   //터치위치가 원 바깥이지만 아직 손을 안땐경우
                var dir=point_direction(x,y,mx,my);//dir 변수에 터치위치의 방향 대입한다
                tx=x+lengthdir_x(72,dir); //tx를 터치위치쪽으로 80떨어진 x 값을 대입
                ty=y+lengthdir_y(72,dir);// 똑같음 
                
                //draw_disk_ext(x, y, 72, 80, 20, c_white, c_white, 0.4);
                draw_sprite(spr_bulit_circle, 0, x + add_x, y + add_y)
                draw_sprite(spr_small_circle, 0, tx + add_x, ty + add_y)
                /*draw_set_alpha(0.4)
                draw_set_color(c_white)
                draw_circle(tx,ty,20,0)//터치 x,y에 반지름 20으로 원을 그린다
                draw_set_alpha(0.6)
                draw_set_color(c_white)
                draw_circle(tx,ty,16,0)//중심으로부터 터치방향쪽으로 80만큼  떨어진 원을 그린다*/
                check = 1;
                break; // for문을 4번 돌리기때문에 원이 4개 그려지는걸 방지하기위해 빠져나간다
            }
        }
        }
        
        
    /////////////////////////////////
    }
    if check==0
    {
        // 아무것도 아닌 경우
        //draw_disk_ext(x, y, 72, 80, 20, c_white, c_white, 0.4);
        draw_sprite(spr_bulit_circle, 0, x + add_x, y + add_y)
        draw_sprite(spr_small_circle, 0, tx + add_x, ty + add_y)
        /*draw_set_alpha(0.4)
        draw_set_color(c_white)
        draw_circle(tx,ty,20,0)//터치 x,y에 반지름 20으로 원을 그린다
        
        draw_set_alpha(0.6)
        draw_set_color(c_white)
        draw_circle(tx,ty,16,0)//중심으로부터 터치방향쪽으로 80만큼  떨어진 원을 그린다*/
    }
}else {
    if(activate == 1){
        draw_sprite(spr_bulit_circle, 0, x + add_x, y + add_y)
        draw_sprite(spr_small_circle, 0, x + add_x, y + add_y)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Step

_direction = point_direction(x, y, tx, ty)
_distance = point_distance(x, y, tx, ty)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
